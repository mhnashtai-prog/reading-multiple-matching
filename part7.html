<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flow State Reading - Cambridge B2 Part 7</title>
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#1e3a5f">
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Space+Grotesk:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            --primary-blue: #1e3a5f;
            --secondary-teal: #26a69a;
            --accent-gold: #ffd54f;
            --success-green: #66bb6a;
            --error-red: #ef5350;
            --background-dark: #0a1628;
            --text-light: #ffffff;
            --card-glass: rgba(255, 255, 255, 0.1);
            --card-border: rgba(255, 255, 255, 0.2);
            --selected-purple: #9c27b0;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, var(--background-dark) 0%, var(--primary-blue) 100%);
            min-height: 100vh;
            color: var(--text-light);
            overflow-x: hidden;
        }
        
        /* Header Navigation */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 30px;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--card-border);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .logo-small {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--accent-gold);
        }
        
        .part-indicator {
            background: var(--selected-purple);
            color: white;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
        }
        
        .nav-controls {
            display: flex;
            gap: 15px;
            align-items: center;
        }
        
        .nav-btn {
            background: var(--card-glass);
            border: 1px solid var(--card-border);
            color: var(--text-light);
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
        }
        
        .nav-btn:hover {
            background: var(--secondary-teal);
            transform: translateY(-2px);
        }
        
        .nav-btn.part-selector {
            background: var(--accent-gold);
            color: var(--primary-blue);
            font-weight: 600;
        }
        
        .nav-btn.part-selector:hover {
            background: #ffcc02;
        }
        
        /* Main Container */
        .container {
            display: grid;
            grid-template-columns: 1fr 400px;
            gap: 30px;
            padding: 30px;
            max-width: 1600px;
            margin: 0 auto;
            min-height: calc(100vh - 80px);
        }
        
        /* Reading Passage Area */
        .reading-area {
            background: var(--card-glass);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            border: 1px solid var(--card-border);
            padding: 30px;
            position: relative;
            overflow: hidden;
        }
        
        .constellation-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(2px 2px at 20px 30px, var(--accent-gold), transparent),
                radial-gradient(2px 2px at 40px 70px, var(--secondary-teal), transparent),
                radial-gradient(1px 1px at 90px 40px, var(--text-light), transparent),
                radial-gradient(1px 1px at 130px 80px, var(--selected-purple), transparent),
                radial-gradient(2px 2px at 160px 30px, var(--secondary-teal), transparent);
            background-size: 200px 100px;
            opacity: 0.3;
            animation: twinkle 4s ease-in-out infinite alternate;
        }
        
        @keyframes twinkle {
            0% { opacity: 0.3; }
            100% { opacity: 0.6; }
        }
        
        .passage-container {
            position: relative;
            z-index: 2;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .passage-title {
            font-size: 1.4rem;
            font-weight: 600;
            margin-bottom: 15px;
            color: var(--accent-gold);
        }
        
        .exam-instructions {
            background: rgba(156, 39, 176, 0.1);
            border: 1px solid rgba(156, 39, 176, 0.3);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
            font-size: 0.9rem;
            line-height: 1.6;
        }
        
        /* Paragraph Styling for Part 7 */
        .text-paragraph {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 15px;
            border-left: 3px solid var(--secondary-teal);
            transition: all 0.3s ease;
            position: relative;
            cursor: pointer;
            user-select: text;
        }
        
        .text-paragraph:hover {
            background: rgba(255, 255, 255, 0.06);
            border-left-color: var(--accent-gold);
            transform: translateX(3px);
        }
        
        .text-paragraph.selected {
            background: rgba(156, 39, 176, 0.15);
            border-left-color: var(--selected-purple);
            border-left-width: 5px;
            box-shadow: 0 0 20px rgba(156, 39, 176, 0.3);
        }
        
        .text-paragraph.correct {
            background: rgba(102, 187, 106, 0.15);
            border-left-color: var(--success-green);
            border-left-width: 5px;
            box-shadow: 0 0 20px rgba(102, 187, 106, 0.3);
        }
        
        .text-paragraph.incorrect {
            background: rgba(239, 83, 80, 0.15);
            border-left-color: var(--error-red);
            border-left-width: 5px;
            animation: shake 0.5s ease-in-out;
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        
        .paragraph-letter {
            position: absolute;
            top: -8px;
            left: 15px;
            background: var(--secondary-teal);
            color: white;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .text-paragraph:hover .paragraph-letter {
            background: var(--accent-gold);
            transform: scale(1.1);
        }
        
        .text-paragraph.selected .paragraph-letter {
            background: var(--selected-purple);
            transform: scale(1.2);
        }
        
        .paragraph-text {
            font-size: 1rem;
            line-height: 1.7;
            margin-top: 8px;
        }
        
        /* Questions Sidebar */
        .questions-sidebar {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .progress-card {
            background: var(--card-glass);
            backdrop-filter: blur(20px);
            border-radius: 15px;
            border: 1px solid var(--card-border);
            padding: 20px;
        }
        
        .progress-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 15px;
            color: var(--accent-gold);
        }
        
        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 10px;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--selected-purple), var(--accent-gold));
            border-radius: 4px;
            transition: width 0.5s ease;
            width: 0%;
        }
        
        .progress-text {
            font-size: 0.9rem;
            opacity: 0.8;
        }
        
        /* Questions Card */
        .questions-card {
            background: var(--card-glass);
            backdrop-filter: blur(20px);
            border-radius: 15px;
            border: 1px solid var(--card-border);
            padding: 20px;
            flex-grow: 1;
            max-height: 70vh;
            overflow-y: auto;
        }
        
        .questions-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 15px;
            color: var(--accent-gold);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .question-item {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 12px;
            transition: all 0.3s ease;
            position: relative;
            cursor: pointer;
        }
        
        .question-item:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: var(--secondary-teal);
            transform: translateY(-2px);
        }
        
        .question-item.active {
            background: rgba(156, 39, 176, 0.15);
            border-color: var(--selected-purple);
            border-width: 2px;
        }
        
        .question-item.answered {
            background: rgba(102, 187, 106, 0.1);
            border-color: var(--success-green);
        }
        
        .question-item.incorrect {
            background: rgba(239, 83, 80, 0.1);
            border-color: var(--error-red);
        }
        
        .question-number {
            display: inline-block;
            width: 24px;
            height: 24px;
            background: var(--secondary-teal);
            color: white;
            border-radius: 50%;
            text-align: center;
            line-height: 24px;
            font-weight: 600;
            margin-right: 12px;
            font-size: 0.8rem;
        }
        
        .question-item.answered .question-number {
            background: var(--success-green);
        }
        
        .question-text {
            display: inline;
            line-height: 1.6;
            font-size: 0.95rem;
        }
        
        .selected-answer {
            position: absolute;
            top: 8px;
            right: 12px;
            background: var(--selected-purple);
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 0.8rem;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .question-item.answered .selected-answer {
            opacity: 1;
        }
        
        /* Control Buttons */
        .controls {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }
        
        .btn {
            flex: 1;
            background: var(--secondary-teal);
            border: none;
            color: white;
            padding: 12px 20px;
            border-radius: 10px;
            font-size: 0.95rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .btn:hover {
            background: var(--accent-gold);
            transform: translateY(-2px);
        }
        
        .btn.primary {
            background: var(--selected-purple);
        }
        
        .btn.primary:hover {
            background: #7b1fa2;
        }
        
        .btn:disabled {
            background: rgba(255, 255, 255, 0.2);
            cursor: not-allowed;
            transform: none;
        }
        
        /* Current Question Highlight */
        .current-question-indicator {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--selected-purple);
            color: white;
            padding: 12px 24px;
            border-radius: 25px;
            font-weight: 600;
            font-size: 1rem;
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
        }
        
        .current-question-indicator.show {
            opacity: 0.9;
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                grid-template-columns: 1fr;
                gap: 20px;
                padding: 15px;
            }
            
            .header {
                padding: 15px 20px;
                flex-wrap: wrap;
                gap: 10px;
            }
            
            .reading-area {
                padding: 20px;
                order: 2;
            }
            
            .questions-sidebar {
                order: 1;
            }
            
            .questions-card {
                max-height: 50vh;
            }
            
            .text-paragraph {
                padding: 15px;
            }
        }
        
        .exam-tip {
            background: rgba(102, 187, 106, 0.1);
            border: 1px solid rgba(102, 187, 106, 0.3);
            border-radius: 8px;
            padding: 12px;
            margin-top: 15px;
            font-size: 0.85rem;
            line-height: 1.5;
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="logo-small">
            <i class="fas fa-star"></i> Flow State Reading
        </div>
        <div class="part-indicator">Cambridge B2 Part 7 - Multiple Matching</div>
        <nav class="nav-controls">
            <a href="index.html" class="nav-btn">
                <i class="fas fa-home"></i> Home
            </a>
            <a href="constellation.html" class="nav-btn part-selector">
                <i class="fas fa-puzzle-piece"></i> Part 6
            </a>
            <button class="nav-btn" id="hint-btn">
                <i class="fas fa-lightbulb"></i> Hint
            </button>
            <button class="nav-btn" id="reset-btn">
                <i class="fas fa-refresh"></i> Reset
            </button>
        </nav>
    </header>

    <div class="container">
        <!-- Reading Passage Area -->
        <main class="reading-area">
            <div class="constellation-bg"></div>
            
            <div class="passage-container">
                <h2 class="passage-title">Digital Nomads: The Future of Work</h2>
                
                <div class="exam-instructions">
                    <strong>Instructions:</strong> You are going to read an article about digital nomads and remote work culture. 
                    For questions 1-10, choose from the paragraphs (A-H). The paragraphs may be chosen more than once.
                </div>
                
                <!-- Paragraph A -->
                <div class="text-paragraph" data-paragraph="A">
                    <div class="paragraph-letter">A</div>
                    <div class="paragraph-text">
                        The concept of digital nomadism has exploded in popularity over the past decade, with millions of professionals now working remotely while traveling the world. This lifestyle represents a fundamental shift in how we think about work-life balance, offering unprecedented freedom to choose where and how we live. Digital nomads typically rely on technology to perform their jobs, whether in web development, digital marketing, content creation, or consulting services.
                    </div>
                </div>

                <!-- Paragraph B -->
                <div class="text-paragraph" data-paragraph="B">
                    <div class="paragraph-letter">B</div>
                    <div class="paragraph-text">
                        However, the nomadic lifestyle isn't without its challenges. Reliable internet connectivity remains a constant concern, especially when working from remote locations or developing countries. Time zone differences can make collaboration with teams difficult, and maintaining professional relationships becomes more complex when you're constantly on the move. Many nomads report feelings of isolation despite being surrounded by new environments and people.
                    </div>
                </div>

                <!-- Paragraph C -->
                <div class="text-paragraph" data-paragraph="C">
                    <div class="paragraph-letter">C</div>
                    <div class="paragraph-text">
                        The financial aspects of digital nomadism require careful planning and management. While some destinations offer a lower cost of living, travel expenses, visa fees, and the need for travel insurance can quickly add up. Successful nomads often diversify their income streams, combining freelance work, passive income, and sometimes location-independent businesses to maintain financial stability while traveling.
                    </div>
                </div>

                <!-- Paragraph D -->
                <div class="text-paragraph" data-paragraph="D">
                    <div class="paragraph-letter">D</div>
                    <div class="paragraph-text">
                        Cities around the world are recognizing the economic potential of digital nomads and are actively courting this demographic. Countries like Estonia, Portugal, and Barbados have introduced special visas designed specifically for remote workers. These initiatives provide legal frameworks that allow nomads to work legally while contributing to local economies through spending on accommodation, food, and services.
                    </div>
                </div>

                <!-- Paragraph E -->
                <div class="text-paragraph" data-paragraph="E">
                    <div class="paragraph-letter">E</div>
                    <div class="paragraph-text">
                        The rise of co-working spaces has been instrumental in supporting the nomad community. These spaces provide not only reliable internet and professional work environments but also opportunities for networking and socializing with like-minded individuals. Many nomads report that co-working spaces help combat the loneliness that can come with working independently in unfamiliar places.
                    </div>
                </div>

                <!-- Paragraph F -->
                <div class="text-paragraph" data-paragraph="F">
                    <div class="paragraph-letter">F</div>
                    <div class="paragraph-text">
                        Technology continues to evolve to meet the needs of location-independent workers. Cloud computing, project management tools, and communication platforms have made it possible for teams to collaborate effectively across continents. Virtual reality meetings and digital collaboration tools are becoming increasingly sophisticated, potentially making the physical location of workers even less relevant in the future.
                    </div>
                </div>

                <!-- Paragraph G -->
                <div class="text-paragraph" data-paragraph="G">
                    <div class="paragraph-letter">G</div>
                    <div class="paragraph-text">
                        The environmental impact of digital nomadism is a growing concern among sustainability advocates. Frequent flights and constant travel contribute significantly to carbon emissions, leading some nomads to adopt "slow travel" approaches, staying in locations for months rather than weeks. Others are seeking more sustainable transportation options or purchasing carbon offsets to mitigate their environmental impact.
                    </div>
                </div>

                <!-- Paragraph H -->
                <div class="text-paragraph" data-paragraph="H">
                    <div class="paragraph-letter">H</div>
                    <div class="paragraph-text">
                        As the digital nomad movement matures, questions about long-term sustainability arise. Can this lifestyle work for families, not just young singles? How do nomads plan for retirement or deal with health emergencies far from home? Some long-term nomads are beginning to establish more permanent bases or adopting hybrid approaches that combine periods of travel with more settled living arrangements.
                    </div>
                </div>

                <div class="exam-tip">
                    <strong>ðŸ’¡ Exam Tip:</strong> Read each question carefully and scan the text for specific information. 
                    Some paragraphs may match multiple questions, while others might not be used at all.
                </div>
            </div>
        </main>

        <!-- Questions Sidebar -->
        <aside class="questions-sidebar">
            <!-- Progress Card -->
            <div class="progress-card">
                <h3 class="progress-title">
                    <i class="fas fa-chart-line"></i> Progress
                </h3>
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill"></div>
                </div>
                <p class="progress-text">
                    <span id="completed-count">0</span> of <span id="total-questions">10</span> answered
                </p>
            </div>

            <!-- Questions Card -->
            <div class="questions-card">
                <h3 class="questions-title">
                    <i class="fas fa-question-circle"></i> Questions
                </h3>
                
                <div class="question-item" data-question="1">
                    <span class="question-number">1</span>
                    <span class="question-text">Which paragraph describes the core concept and appeal of digital nomadism?</span>
                    <div class="selected-answer" id="answer-1"></div>
                </div>
                
                <div class="question-item" data-question="2">
                    <span class="question-number">2</span>
                    <span class="question-text">Which paragraph discusses the technical difficulties nomads face?</span>
                    <div class="selected-answer" id="answer-2"></div>
                </div>
                
                <div class="question-item" data-question="3">
                    <span class="question-number">3</span>
                    <span class="question-text">Which paragraph mentions government initiatives to attract remote workers?</span>
                    <div class="selected-answer" id="answer-3"></div>
                </div>
                
                <div class="question-item" data-question="4">
                    <span class="question-number">4</span>
                    <span class="question-text">Which paragraph focuses on the economic planning required for this lifestyle?</span>
                    <div class="selected-answer" id="answer-4"></div>
                </div>
                
                <div class="question-item" data-question="5">
                    <span class="question-number">5</span>
                    <span class="question-text">Which paragraph discusses solutions to professional isolation?</span>
                    <div class="selected-answer" id="answer-5"></div>
                </div>
                
                <div class="question-item" data-question="6">
                    <span class="question-number">6</span>
                    <span class="question-text">Which paragraph addresses environmental concerns related to nomadic travel?</span>
                    <div class="selected-answer" id="answer-6"></div>
                </div>
                
                <div class="question-item" data-question="7">
                    <span class="question-number">7</span>
                    <span class="question-text">Which paragraph discusses technological tools that enable remote collaboration?</span>
                    <div class="selected-answer" id="answer-7"></div>
                </div>
                
                <div class="question-item" data-question="8">
                    <span class="question-number">8</span>
                    <span class="question-text">Which paragraph mentions emotional challenges of constant travel?</span>
                    <div class="selected-answer" id="answer-8"></div>
                </div>
                
                <div class="question-item" data-question="9">
                    <span class="question-number">9</span>
                    <span class="question-text">Which paragraph considers the long-term viability of nomadic lifestyle?</span>
                    <div class="selected-answer" id="answer-9"></div>
                </div>
                
                <div class="question-item" data-question="10">
                    <span class="question-number">10</span>
                    <span class="question-text">Which paragraph discusses alternative approaches to reduce environmental impact?</span>
                    <div class="selected-answer" id="answer-10"></div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls">
                <button class="btn" id="check-btn">
                    <i class="fas fa-check"></i> Check Answers
                </button>
                <button class="btn primary" id="next-btn" disabled>
                    <i class="fas fa-arrow-right"></i> Next Test
                </button>
            </div>
        </aside>
    </div>

    <div class="current-question-indicator" id="question-indicator">
        Click paragraph to answer Question 1
    </div>

    <script>
        // Correct answers for Part 7
        const correctAnswers = {
            1: 'A', 2: 'B', 3: 'D', 4: 'C', 5: 'E',
            6: 'G', 7: 'F', 8: 'B', 9: 'H', 10: 'G'
        };
        
        let userAnswers = {};
        let currentQuestion = 1;
        
        // Initialize the interface
        function initializeInterface() {
            setupEventListeners();
            updateQuestionIndicator();
            updateProgress();
        }
        
        // Setup all event listeners
        function setupEventListeners() {
            // Question selection
            document.querySelectorAll('.question-item').forEach(item => {
                item.addEventListener('click', (e) => {
                    currentQuestion = parseInt(e.currentTarget.dataset.question);
                    updateQuestionSelection();
                    updateQuestionIndicator();
                });
            });
            
            // Paragraph selection
            document.querySelectorAll('.text-paragraph').forEach(paragraph => {
                paragraph.addEventListener('click', (e) => {
                    const paragraphLetter = e.currentTarget.dataset.paragraph;
                    selectAnswer(currentQuestion, paragraphLetter);
                    
                    // Auto-advance to next unanswered question
                    advanceToNextQuestion();
                });
            });
            
            // Control buttons
            document.getElementById('check-btn').addEventListener('click', checkAnswers);
            document.getElementById('next-btn').addEventListener('click', () => {
                alert('Next Part 7 test coming soon! ðŸš€');
            });
            document.getElementById('reset-btn').addEventListener('click', resetTest);
            document.getElementById('hint-btn').addEventListener('click', showHint);
        }
        
        // Update question selection display
        function updateQuestionSelection() {
            document.querySelectorAll('.question-item').forEach(item => {
                item.classList.remove('active');
            });
            
            document.querySelector(`[data-question="${currentQuestion}"]`).classList.add('active');
        }
        
        // Select answer for current question
        function selectAnswer(questionNum, paragraphLetter) {
            userAnswers[questionNum] = paragraphLetter;
            
            // Update question display
            const questionItem = document.querySelector(`[data-question="${questionNum}"]`);
            questionItem.classList.add('answered');
            document.getElementById(`answer-${questionNum}`).textContent = paragraphLetter;
            
            // Highlight selected paragraph temporarily
            document.querySelectorAll('.text-paragraph').forEach(p => {
                p.classList.remove('selected');
            });
            
            const selectedParagraph = document.querySelector(`[data-paragraph="${paragraphLetter}"]`);
            selectedParagraph.classList.add('selected');
            
            // Remove highlight after 2 seconds
            setTimeout(() => {
                selectedParagraph.classList.remove('selected');
            }, 2000);
            
            updateProgress();
        }
        
        // Advance to next unanswered question
        function advanceToNextQuestion() {
            for (let i = currentQuestion + 1; i <= 10; i++) {
                if (!userAnswers[i]) {
                    currentQuestion = i;
                    updateQuestionSelection();
                    updateQuestionIndicator();
                    return;
                }
            }
            
            // If all questions answered
            if (Object.keys(userAnswers).length === 10) {
                showCompletionMessage();
            }
        }
        
        // Update question indicator
        function updateQuestionIndicator() {
            const indicator = document.getElementById('question-indicator');
            indicator.textContent = `Click paragraph to answer Question ${currentQuestion}`;
            indicator.classList.add('show');
            
            setTimeout(() => {
                indicator.classList.remove('show');
            }, 3000);
        }
        
        // Update progress
        function updateProgress() {
            const completed = Object.keys(userAnswers).length;
            const percentage = (completed / 10) * 100;
            
            document.getElementById('completed-count').textContent = completed;
            document.getElementById('progress-fill').style.width = percentage + '%';
            
            if (completed === 10) {
                document.getElementById('check-btn').style.background = 'var(--success-green)';
                document.getElementById('check-btn').innerHTML = '<i class="fas fa-check-circle"></i> Complete!';
            }
        }
        
        // Show completion message
        function showCompletionMessage() {
            const indicator = document.getElementById('question-indicator');
            indicator.textContent = 'ðŸŽ‰ All questions answered! Check your results.';
            indicator.style.background = 'var(--success-green)';
            indicator.classList.add('show');
        }
        
        // Check answers
        function checkAnswers() {
            let correct = 0;
            
            // Clear previous styling
            document.querySelectorAll('.text-paragraph').forEach(p => {
                p.classList.remove('correct', 'incorrect');
            });
            
            document.querySelectorAll('.question-item').forEach(q => {
                q.classList.remove('incorrect');
            });
            
            // Check each answer
            for (let questionNum = 1; questionNum <= 10; questionNum++) {
                const userAnswer = userAnswers[questionNum];
                const correctAnswer = correctAnswers[questionNum];
                const questionItem = document.querySelector(`[data-question="${questionNum}"]`);
                
                if (userAnswer === correctAnswer) {
                    correct++;
                    // Highlight correct paragraph
                    document.querySelector(`[data-paragraph="${correctAnswer}"]`).classList.add('correct');
                } else if (userAnswer) {
                    // Mark question as incorrect
                    questionItem.classList.add('incorrect');
                    document.querySelector(`[data-paragraph="${userAnswer}"]`).classList.add('incorrect');
                }
            }
            
            const score = Math.round((correct / 10) * 100);
            
            // Show results
            alert(`Cambridge B2 Part 7 Result:\nYou scored ${score}%!\nCorrect: ${correct}/10\n\n${score >= 70 ? 'ðŸŽ‰ Excellent work!' : 'ðŸ’ª Keep practicing!'}`);
            
            if (score >= 70) {
                document.getElementById('next-btn').disabled = false;
                document.getElementById('next-btn').style.background = 'var(--success-green)';
            }
        }
        
        // Reset test
        function resetTest() {
            userAnswers = {};
            currentQuestion = 1;
            
            // Clear all styling
            document.querySelectorAll('.text-paragraph').forEach(p => {
                p.classList.remove('selected', 'correct', 'incorrect');
            });
            
            document.querySelectorAll('.question-item').forEach(q => {
                q.classList.remove('answered', 'incorrect', 'active');
            });
            
            document.querySelectorAll('.selected-answer').forEach(answer => {
                answer.textContent = '';
            });
            
            // Reset buttons
            document.getElementById('check-btn').style.background = 'var(--secondary-teal)';
            document.getElementById('check-btn').innerHTML = '<i class="fas fa-check"></i> Check Answers';
            document.getElementById('next-btn').disabled = true;
            
            updateQuestionSelection();
            updateProgress();
        }
        
        // Show hint
        function showHint() {
            alert(`ðŸ’¡ Part 7 Strategy:\n\nâ€¢ Read each question carefully first\nâ€¢ Look for key words and synonyms in the text\nâ€¢ Some paragraphs may be used more than once\nâ€¢ Some paragraphs may not be used at all\nâ€¢ Focus on the specific information each question asks for`);
        }
        
        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', initializeInterface);
    </script>
</body>
</html>
